<div th:fragment="result1-2" class="p-8">


<div class="bg-white p-4 rounded-lg shadow col-span-1 md:col-span-2">
                <div id="allSecurityScore" class="text-4xl font-bold text-center"
                     th:text="${allSecurity + '%'}"
                     th:style="${'color: ' + (allSecurity >= 90 ? '#4BC0C0' : allSecurity >= 70 ? '#36A2EB' : allSecurity >= 50 ? '#FFCE56' : '#FF6384')}">
                </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script th:inline="javascript">
    /*<![CDATA[*/
    document.addEventListener('DOMContentLoaded', function () {
        // 기존 차트 생성 코드 ...

        // 숫자 카운트 애니메이션
        const allSecurity = /*[[${allSecurity}]]*/ 0;
        const duration = 2000; // 애니메이션 지속 시간 (밀리초)
        const steps = 100; // 애니메이션 단계
        const stepDuration = duration / steps;

        const scoreElement = document.getElementById('allSecurityScore');
        let currentStep = 0;

        function animateScore() {
            currentStep++;
            const progress = currentStep / steps;
            const currentScore = Math.round(allSecurity * progress);
            scoreElement.textContent = `${currentScore}%`;
            scoreElement.style.color = getScoreColor(currentScore);

            if (currentStep < steps) {
                setTimeout(animateScore, stepDuration);
            }
        }

        function getScoreColor(score) {
            if (score >= 90) return '#4BC0C0';
            if (score >= 70) return '#36A2EB';
            if (score >= 50) return '#FFCE56';
            return '#FF6384';
        }

        animateScore();
    });
    /*]]>*/
    </script>
</div>
